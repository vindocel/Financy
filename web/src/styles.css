:root { color-scheme: light dark; --bg: #0b1220; --fg: #e2e8f0; --muted:#94a3b8; --primary:#8b5cf6; --card:#0f172a; --border:#1f2937; --focus:#22d3ee; --btn-h: 36px; }
* { box-sizing: border-box }
html, body, #root { height: 100% }
body { margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji'; background: var(--bg); color: var(--fg); }
a { color: var(--primary); text-decoration: none }
input, select, button { font: inherit }
label { display:block; font-size: .9rem; margin-bottom: .25rem }
input:not([type="checkbox"]):not([type="radio"]),
select {
  width:100%;
  padding:.6rem .7rem;
  border-radius:.5rem;
  border:1px solid var(--border);
  background:#0b1327;
  color:var(--fg);
}
button { padding:.6rem .9rem; border:1px solid var(--border); background:#0f172a; color:var(--fg); border-radius:.6rem; cursor:pointer }
button.primary { background: var(--primary); border-color: transparent; color:#fff }
.container { max-width: 960px; margin: 0 auto; padding: 1rem }
.card { background: var(--card); border:1px solid var(--border); border-radius: .75rem; padding: 1rem }
.row { display:flex; gap:.75rem; align-items: center }
.col { display:flex; flex-direction: column; gap:.5rem }
.grid { display:grid; gap: .75rem }
.grid.cols-2 { grid-template-columns: 1fr 1fr }
.grid.cols-3 { grid-template-columns: repeat(3, 1fr) }
.header { display:flex; align-items:center; justify-content: space-between; gap:1rem; padding: .75rem 1rem; position: sticky; top: 0; background: var(--bg); border-bottom:1px solid var(--border); z-index:10 }
.title { font-weight: 600 }
.menu { display:flex; gap:.5rem; align-items:center }
.header .menu button{ height: var(--btn-h); padding: 0 .9rem; display:inline-flex; align-items:center; justify-content:center }
.header .menu .btn-icon{ width: var(--btn-h); min-width: var(--btn-h); padding: 0; }
.filters { position: sticky; top: 52px; z-index: 5; }
.field { margin-bottom: .5rem }
.error { color:#f87171; font-size:.9rem; margin-top:.25rem }
.muted { color: var(--muted) }
.fab { position: fixed; right: 1rem; bottom: 1rem }
.chip { background:#111827; border:1px solid var(--border); border-radius:999px; padding:.25rem .5rem; display:inline-flex; gap:.25rem; align-items:center }
.dropdown { position: relative }
.dropdown-panel {
  position: absolute;
  left: 0;              /* alinha na esquerda */
  right: 0;             /* acompanha a largura do gatilho */
  top: calc(100% + 6px);
  z-index: 30;
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: .75rem;
  box-shadow: 0 8px 24px rgba(0,0,0,.35);
  min-width: 100%;
  max-width: 100%;
  width: auto;
}
.sr-only { position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); border:0 }
dialog::backdrop{ background: rgba(0,0,0,.5) }
dialog[open]{ position: fixed; inset: 0; display: grid; place-items: center; padding: 0; background: transparent; border: none; z-index: 2000; }
dialog { border:none; border-radius: .75rem; padding:0; background: transparent }
dialog .modal { width:min(780px, 96vw); max-height: 88vh; overflow:auto; }
.sheet { position:fixed; inset:0; background:var(--bg); padding:1rem; display:flex; flex-direction:column }
.actions { display:flex; align-items:center; gap:.5rem }

@media (max-width: 740px) {
  .grid.cols-2 { grid-template-columns: 1fr }
  .grid.cols-3 { grid-template-columns: 1fr }
}

/* Gatilho compacto (uma linha) */
.selector .selector-trigger{
  display:flex; align-items:center; gap:.5rem;
  min-height:40px; padding:6px 10px;
  white-space:nowrap; overflow:hidden;
}

/* Texto do gatilho com reticências quando não couber */
.selector .selector-value{
  flex:1 1 auto;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}

/* Menu alinhado à ESQUERDA e com largura do gatilho */
.selector .dropdown-panel{
  position:absolute; left:0; right:0; top:calc(100% + 6px);
  z-index:50; /* garante clique acima de tudo */
  min-width:100%; max-width:100%; width:auto;
}

/* Esconde qualquer “chip” dentro do gatilho para não “engordar” a barra */
.selector-trigger .chip,
.selector-trigger .row { display:none !important; }

/* === Alinhamento dos itens do menu de usuários === */
.dropdown-panel .col label.row{
  display: flex;              /* garante flex no <label> */
  align-items: center;
  justify-content: flex-start;/* nome fica à esquerda do checkbox */
  gap: .5rem;
  min-height: 36px;
  padding: 8px 10px;          /* conforto para clique */
}

.dropdown-panel .col label.row > input[type="checkbox"]{
  flex: 0 0 auto;
  margin: 0;                  /* remove margens do UA */
}

.dropdown-panel .col label.row > span{
  flex: 1 1 auto;
  text-align: left;           /* evita texto “puxado” pra direita */
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;    /* nome grande não quebra o layout */
}

/* separador visual entre linhas (opcional) */
.dropdown-panel .col label.row + label.row{
  border-top: 1px solid var(--border);
}

/* Pills de tags no seletor */
.tag-pill{
  display:inline-flex; align-items:center; gap:.25rem;
  border-radius:999px; padding:.35rem .7rem;
  border:1px solid var(--border); background:#111827; color:var(--fg);
  cursor:pointer; user-select:none;
}
.tag-pill.selected{ border-color: transparent; color:#fff; }

/* ícones compactos nos inputs (olho/copiar) */
.icon-btn{ border:1px solid var(--border); background:#0f172a; color:var(--fg); border-radius:.4rem; padding:.25rem .4rem; display:inline-flex; align-items:center; justify-content:center; }
.icon-btn:hover{ filter: brightness(1.1); }

/* botões de ícone no header (altura igual aos demais) */
.btn-icon{ display:inline-flex; align-items:center; justify-content:center; position:relative; }
.notif-badge{ position:absolute; top:4px; right:4px; min-width:16px; height:16px; padding:0 4px; border-radius:999px; background: var(--primary); color:#fff; font-size:11px; line-height:16px; text-align:center; }

/* color input compacto para Tags */
input.color-input{ width:48px; height: var(--btn-h); padding:0; border:1px solid var(--border); border-radius:.5rem; background:#0f172a; }


/* ---- Purchase modal item list layout ---- */
.items-header{ display:flex; justify-content:space-between; align-items:center; margin-bottom:6px; }
.item-row{ display:flex; gap:8px; align-items:center; }
.item-name{ flex:1; min-width:260px; }
.item-qty{ width:48px; }
.item-price{ width:96px; }
@media (max-width: 520px){
  .item-name{ min-width:180px; }
  .item-qty{ width:44px; }
  .item-price{ width:88px; }
}

/* Botão redondo do seletor */
.color-dot-btn{
  width: 20px;
  height: 20px;
  border-radius: 999px;
  border: 1px solid var(--border);
  padding: 0;
  cursor: pointer;
}
.color-dot-btn:focus-visible{
  outline: 2px solid var(--focus);
  outline-offset: 2px;
}

/* Antes de escolher, mostra um "color wheel" (conic-gradient) */
.color-dot-btn.gradient{
  background: conic-gradient(
    red, yellow, lime, cyan, blue, magenta, red
  );
  /* opcional: um leve brilho para destacar no tema escuro/claro */
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.06);
}

