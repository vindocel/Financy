:root { color-scheme: light dark; --bg: #0b1220; --fg: #e2e8f0; --muted:#94a3b8; --primary:#8b5cf6; --card:#0f172a; --border:#1f2937; --focus:#22d3ee; --btn-h: 36px; }
* { box-sizing: border-box }
html, body, #root { height: 100% }
body { margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji'; background: var(--bg); color: var(--fg); }
a { color: var(--primary); text-decoration: none }
input, select, button { font: inherit }
label { display:block; font-size: .9rem; margin-bottom: .25rem }
input:not([type="checkbox"]):not([type="radio"]),
select {
  width:100%;
  padding:.6rem .7rem;
  border-radius:.5rem;
  border:1px solid var(--border);
  background:#0b1327;
  color:var(--fg);
}
button { padding:.6rem .9rem; border:1px solid var(--border); background:#0f172a; color:var(--fg); border-radius:.6rem; cursor:pointer }
button.primary { background: var(--primary); border-color: transparent; color:#fff }
.container { max-width: 960px; margin: 0 auto; padding: 1rem }
.card { background: var(--card); border:1px solid var(--border); border-radius: .75rem; padding: 1rem }
.row { display:flex; gap:.75rem; align-items: center }
.col { display:flex; flex-direction: column; gap:.5rem }
.grid { display:grid; gap: .75rem }
.grid.cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)) }
.grid.cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)) }
.header { display:flex; align-items:center; justify-content: space-between; gap:1rem; padding: .75rem 1rem; position: sticky; top: 0; background: var(--bg); border-bottom:1px solid var(--border); z-index:10 }
.title { font-weight: 600 }
.menu { display:flex; gap:.5rem; align-items:center }
.header .menu button{ height: var(--btn-h); padding: 0 .9rem; display:inline-flex; align-items:center; justify-content:center }
.header .menu .btn-icon{ width: var(--btn-h); min-width: var(--btn-h); padding: 0; }
.filters { position: sticky; top: 52px; z-index: 5; }
.field { margin-bottom: .5rem }
.error { color:#f87171; font-size:.9rem; margin-top:.25rem }
.muted { color: var(--muted) }
.fab { position: fixed; right: 1rem; bottom: 1rem }
.chip { background:#111827; border:1px solid var(--border); border-radius:999px; padding:.25rem .5rem; display:inline-flex; gap:.25rem; align-items:center }
.dropdown { position: relative }
.dropdown-panel {
  position: absolute;
  left: 0;              /* alinha na esquerda */
  right: 0;             /* acompanha a largura do gatilho */
  top: calc(100% + 6px);
  z-index: 30;
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: .75rem;
  box-shadow: 0 8px 24px rgba(0,0,0,.35);
  min-width: 100%;
  max-width: 100%;
  width: auto;
}
.sr-only { position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); border:0 }
dialog::backdrop{ background: rgba(0,0,0,.5) }
dialog[open]{ position: fixed; inset: 0; display: grid; place-items: center; padding: 0; background: transparent; border: none; z-index: 2000; }
dialog { border:none; border-radius: .75rem; padding:0; background: transparent }
dialog .modal { width:min(780px, 96vw); max-height: 88vh; overflow:auto; }
.sheet { position:fixed; inset:0; background:var(--bg); padding:1rem; display:flex; flex-direction:column }
.actions { display:flex; align-items:center; gap:.5rem }

@media (max-width: 740px) {
  .grid.cols-2 { grid-template-columns: 1fr }
  .grid.cols-3 { grid-template-columns: 1fr }
}

/* Gatilho compacto (uma linha) */
.selector .selector-trigger{
  display:flex; align-items:center; gap:.5rem;
  min-height:40px; padding:6px 10px;
  white-space:nowrap; overflow:hidden;

  width: 100%;
  min-width: 0;
  overflow: hidden;
}


/* Texto do gatilho com reticências quando não couber */
.selector .selector-value{
  flex:1 1 auto;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}

/* Menu alinhado à ESQUERDA e com largura do gatilho */
.selector .dropdown-panel{
  position:absolute; left:0; right:0; top:calc(100% + 6px);
  z-index:50; /* garante clique acima de tudo */
  min-width:100%; max-width:100%; width:auto;
}

/* Esconde qualquer “chip” dentro do gatilho para não “engordar” a barra */
/* removed: chips are now visible in trigger */

/* === Alinhamento dos itens do menu de usuários === */
.dropdown-panel .col label.row{
  display: flex;              /* garante flex no <label> */
  align-items: center;
  justify-content: flex-start;/* nome fica à esquerda do checkbox */
  gap: .5rem;
  min-height: 36px;
  padding: 8px 10px;          /* conforto para clique */
}

.dropdown-panel .col label.row > input[type="checkbox"]{
  flex: 0 0 auto;
  margin: 0;                  /* remove margens do UA */
}

.dropdown-panel .col label.row > span{
  flex: 1 1 auto;
  text-align: left;           /* evita texto “puxado” pra direita */
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;    /* nome grande não quebra o layout */
}

/* separador visual entre linhas (opcional) */
.dropdown-panel .col label.row + label.row{
  border-top: 1px solid var(--border);
}

/* Pills de tags no seletor */

.tag-pill{
  --tag: #64748b;
  display:inline-flex;
  align-items:center;
  gap:.35rem;
  font-size:.85rem;
  line-height:1;
  padding:.25rem .5rem;
  border-radius:.375rem;
  border:1px solid transparent;
  background: var(--tag);
  color: #fff;
  cursor:pointer;
  user-select:none;
}
.tag-pill:hover{
  filter: brightness(1.05);
}
.tag-pill.selected{
  border-color: #fff;
  background: var(--tag);
  color: #fff;
}

.tag-pill.selected{ border-color: transparent; color:#fff; }

/* ícones compactos nos inputs (olho/copiar) */
.icon-btn{ border:1px solid var(--border); background:#0f172a; color:var(--fg); border-radius:.4rem; padding:.25rem .4rem; display:inline-flex; align-items:center; justify-content:center; }
.icon-btn:hover{ filter: brightness(1.1); }

/* botões de ícone no header (altura igual aos demais) */
.btn-icon{ display:inline-flex; align-items:center; justify-content:center; position:relative; }
.notif-badge{ position:absolute; top:4px; right:4px; min-width:16px; height:16px; padding:0 4px; border-radius:999px; background: var(--primary); color:#fff; font-size:11px; line-height:16px; text-align:center; }

/* color input compacto para Tags */
input.color-input{ width:48px; height: var(--btn-h); padding:0; border:1px solid var(--border); border-radius:.5rem; background:#0f172a; }


/* ---- Purchase modal item list layout ---- */
.items-header{ display:flex; justify-content:space-between; align-items:center; margin-bottom:6px; }
.item-row{ display:flex; gap:8px; align-items:center; }
.item-name{ flex:1; min-width:260px; }
.item-qty{ width:48px; }
.item-price{ width:96px; }
@media (max-width: 520px){
  .item-name{ min-width:180px; }
  .item-qty{ width:44px; }
  .item-price{ width:88px; }
}

/* Botão redondo do seletor */
.color-dot-btn{
  width: 20px;
  height: 20px;
  border-radius: 999px;
  border: 1px solid var(--border);
  padding: 0;
  cursor: pointer;
}
.color-dot-btn:focus-visible{
  outline: 2px solid var(--focus);
  outline-offset: 2px;
}

/* Antes de escolher, mostra um "color wheel" (conic-gradient) */
.color-dot-btn.gradient{
  background: conic-gradient(
    red, yellow, lime, cyan, blue, magenta, red
  );
  /* opcional: um leve brilho para destacar no tema escuro/claro */
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.06);
}

/* === Tables === */
.table{ width:100%; border-collapse: separate; border-spacing:0; }
.table thead th{ text-align:left; font-size:.95rem; color:var(--muted); padding:10px 12px; border-bottom:1px solid var(--border); }
.table tbody td{ padding:12px; vertical-align:middle; }
.table tbody tr + tr td{ border-top:1px solid var(--border); }
.table tbody tr:hover{ background: rgba(255,255,255,.03); }
.table td.num{ text-align:right; white-space:nowrap; }

/* === Pills (tags / MtP) === */
.pill{ display:inline-flex; align-items:center; gap:.35rem; padding:.25rem .6rem; border-radius:999px; border:1px solid var(--border); background:#111827; color:var(--fg); font-size:.85rem; }
.pill + .pill{ margin-left:.35rem; }
.pill.credito{ background:#1d4ed8; color:#fff; border-color:transparent; }
.pill.debito{ background:#0f766e; color:#fff; border-color:transparent; }
.pill.dinheiro{ background:#065f46; color:#fff; border-color:transparent; }
.pill.pix{ background:#365314; color:#fff; border-color:transparent; }
.pill.ticket{ background:#7c2d12; color:#fff; border-color:transparent; }


/* Alinha números à direita e usa tabular-nums para não “pular” */
.table th.num, .table td.num {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

/* Pílulas (tags/MtP) – mantém o visual da sua 4ª imagem */
.pill {
  display: inline-block;
  padding: 2px 10px;
  border-radius: 999px;
  border: 1px solid var(--border);
  font-size: 0.85rem;
}

/* Opcional: espaçamento no cabeçalho do modal de Configurações */
.card.modal h3 { font-size: 1.25rem; }
.card.modal .row > button[aria-selected="true"] { outline: 2px solid var(--border); border-radius: 8px; }

/* ===== Input com botões embutidos (Mostrar/Copiar) ===== */
.input-with-actions{ position: relative; }
.input-with-actions > input{
  padding-right: 110px; /* espaço pros 2 botões */
}
.input-action{
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  height: 28px;
  padding: 0 .5rem;
  border-radius: .45rem;
}
.input-action--toggle{ right: 70px; }
.input-action--copy{ right: 8px; }

/* ===== Lista de membros com botão à direita ===== */
.members{
  list-style: none;
  margin: 0;
  padding: 0;
  border: 1px solid var(--border);
  border-radius: .6rem;
  background: #0b1327;
  overflow: hidden;
}
.members li{
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: center;
  gap: .5rem .75rem;
  padding: .7rem .8rem;
  border-top: 1px solid var(--border);
}
.members li:first-child{ border-top: 0; }
.members .name{ font-weight: 500; }
.members .kick{ justify-self: end; }



/* === Tag chips modern look & chips in trigger === */

/* trigger layout allows wrapping chips */
.selector .selector-trigger{
  display:flex;
  align-items:center;
  flex-wrap: wrap;
  gap:.35rem;
  min-height:40px;
  padding:6px 10px;
}

/* Badge style (smaller, subtle rounded) - SOLID FILL */
.tag-pill{
  --tag: #64748b;
  display:inline-flex;
  align-items:center;
  gap:.35rem;
  font-size:.85rem;
  line-height:1;
  padding:.25rem .5rem;
  border-radius:.375rem;
  border:1px solid transparent;
  background: var(--tag);
  /* texto acompanha a cor do fundo (tom mais claro do mesmo matiz) */
  color: color-mix(in srgb, var(--tag) 20%, white 80%);
  cursor:pointer;
  user-select:none;
}
.tag-pill:hover{ filter: brightness(1.05); }
.tag-pill.selected{
  border-color: transparent; /* sem borda branca */
  background: var(--tag);
  color: color-mix(in srgb, var(--tag) 20%, white 80%);
}

/* Botão de fechar no chip selecionado (no trigger) */
.tag-pill .x{
  display:inline-flex; align-items:center; justify-content:center;
  width:18px; height:18px; border-radius:.25rem;
  border: none; background: transparent; color: inherit;
  opacity:.8; cursor:pointer;
}
.tag-pill .x:hover{ opacity:1; background: rgba(255,255,255,.12); }

/* allow items in grids to shrink */
.grid > * { min-width: 0; }
